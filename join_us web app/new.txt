SELECT CURTIME();
 
SELECT CURDATE();
 
SELECT NOW();

SELECT current_time();

SELECT current_timestamp();

use book_shop;

select title, author_fname, author_lname from books where author_fname like '%da%';

select title, author_fname, author_lname from books where author_fname not like '%da%';


select title from books where title not like '%a%';

select title from books where title not like 'W%';


select * from books where released_year > 2007;

select 80 >100;

select title,pages,released_year from books where pages > 500;

select title,released_year from books where released_year < 2005;

select title,pages,released_year from books where pages >= 500;

select title,pages,released_year from books where pages <= 500;


select * from books where author_lname = 'Eagers';

select * from books where author_lname = 'Eggers';

select * from books where released_year > 2010;


select title , author_lname,released_year from books where released_year >2010 and author_lname = 'eggers';

select * from books where author_lname = 'eggers' and released_year > 2010 and title like '%novel%';

select * from books where author_lname = 'eggers' and released_year > 2010 and title like '%novel%';

select 1 > 0 AND 8 < 7;

SELECT TITLE FROM BOOKS WHERE CHAR_LENGTH(TITLE) > 30;

 
SELECT TITLE , PAGES FROM BOOKS WHERE CHAR_LENGTH(TITLE) > 30 AND PAGES > 500;

SELECT TITLE, AUTHOR_LNAME FROM BOOKS WHERE AUTHOR_LNAME='EGGERS' AND RELEASED_YEAR > 2010;

SELECT TITLE, AUTHOR_LNAME FROM BOOKS WHERE AUTHOR_LNAME='EGGERS' OR RELEASED_YEAR > 2010;

SELECT TITLE, AUTHOR_LNAME, RELEASED_YEAR FROM BOOKS WHERE AUTHOR_LNAME='EGGERS' OR RELEASED_YEAR > 2010;

SELECT 1<5 OR 4=5;

SELECT TITLE , PAGES FROM BOOKS
    -> WHERE PAGES < 200
    -> OR TITLE LIKE '%STORIES%';

select title, released_year from books where released_year <=2015 and released_year >= 2004;

select title , released_year from books where released_year between 2004 and 2005;

select title , released_year from books where released_year between 2004 and 2015;
+----------------------------------+---------------+
| title                            | released_year |
+----------------------------------+---------------+
| A Hologram for the King: A Novel |          2012 |
| The Circle                       |          2013 |
| Just Kids                        |          2010 |
| Oblivion: Stories                |          2004 |
| Consider the Lobster             |          2005 |
| 10% Happier                      |          2014 |
+----------------------------------+---------------+
6 rows in set 

> select title , pages from books where pages between 200 and 300;
+--------------+-------+
| title        | pages |
+--------------+-------+
| The Namesake |   291 |
| Coraline     |   208 |
| 10% Happier  |   256 |
+--------------+-------+
3 rows in set 

> select title , pages from books where pages not between 200 and 300;
+-----------------------------------------------------+-------+
| title                                               | pages |
+-----------------------------------------------------+-------+
| Norse Mythology                                     |   304 |
| American Gods                                       |   465 |
| Interpreter of Maladies                             |   198 |
| A Hologram for the King: A Novel                    |   352 |
| The Circle                                          |   504 |
| The Amazing Adventures of Kavalier & Clay           |   634 |
| Just Kids                                           |   304 |
| A Heartbreaking Work of Staggering Genius           |   437 |
| What We Talk About When We Talk About Love: Stories |   176 |
| Where I'm Calling From: Selected Stories            |   526 |
| White Noise                                         |   320 |
| Cannery Row                                         |   181 |
| Oblivion: Stories                                   |   329 |
| Consider the Lobster                                |   343 |
| fake_book                                           |   428 |
| Lincoln In The Bardo                                |   367 |
+-----------------------------------------------------+-------+
16 rows in set 

> select * from people where birthdate < '2005-01-01';
+-------+------------+-----------+---------------------+
| name  | birthdate  | birthtime | birthdt             |
+-------+------------+-----------+---------------------+
| elton | 2000-12-12 | 11:00:00  | 2000-12-12 00:00:00 |
| elton | 2000-12-12 | 11:00:00  | 2000-12-02 11:00:00 |
| Lulu  | 1985-04-11 | 09:45:10  | 1985-04-11 09:45:10 |
+-------+------------+-----------+---------------------+
3 rows in set (0.01 sec)

> select * from people where birthdate < year('2005-01-01') > 2005;
Empty set, 1 warning 

> select * from people where birthdate < year('2005-01-01') < 2005;
+-------+------------+-----------+---------------------+
| name  | birthdate  | birthtime | birthdt             |
+-------+------------+-----------+---------------------+
| elton | 2000-12-12 | 11:00:00  | 2000-12-12 00:00:00 |
| elton | 2000-12-12 | 11:00:00  | 2000-12-02 11:00:00 |
| Lulu  | 1985-04-11 | 09:45:10  | 1985-04-11 09:45:10 |
| Juan  | 2020-08-15 | 23:59:00  | 2020-08-15 23:59:00 |
| sam   | 2024-01-22 | 17:08:24  | 2024-01-22 17:08:24 |
+-------+------------+-----------+---------------------+
5 rows in set, 1 warning 

> select * from people where year(birthdate) < 2005;
+-------+------------+-----------+---------------------+
| name  | birthdate  | birthtime | birthdt             |
+-------+------------+-----------+---------------------+
| elton | 2000-12-12 | 11:00:00  | 2000-12-12 00:00:00 |
| elton | 2000-12-12 | 11:00:00  | 2000-12-02 11:00:00 |
| Lulu  | 1985-04-11 | 09:45:10  | 1985-04-11 09:45:10 |
+-------+------------+-----------+---------------------+
3 rows in set 

> select * from people where hour(birthtime) > 12;
+------+------------+-----------+---------------------+
| name | birthdate  | birthtime | birthdt             |
+------+------------+-----------+---------------------+
| Juan | 2020-08-15 | 23:59:00  | 2020-08-15 23:59:00 |
| sam  | 2024-01-22 | 17:08:24  | 2024-01-22 17:08:24 |
+------+------------+-----------+---------------------+


> select cast('9:00:01' as time);
+-------------------------+
| cast('9:00:01' as time) |
+-------------------------+
| 09:00:01                |
+-------------------------+
1 row in set 

> select * from people where birthtime between '12:00:00' and '16:00:00';
Empty set 

> select * from people where birthtime between cast('12:00:00' as time) and cast('16:00:00' as time);
Empty set 

> select cast('9:00:741' as time);
+--------------------------+
| cast('9:00:741' as time) |
+--------------------------+
| NULL                     |
+--------------------------+
1 row in set, 1 warning 

> select title , released_year from books where released_year not in (2000,2002,2004,2006,2008,2010,2012,2014,2016);
+-----------------------------------------------------+---------------+
| title                                               | released_year |
+-----------------------------------------------------+---------------+
| The Namesake                                        |          2003 |
| American Gods                                       |          2001 |
| Interpreter of Maladies                             |          1996 |
| The Circle                                          |          2013 |
| A Heartbreaking Work of Staggering Genius           |          2001 |
| Coraline                                            |          2003 |
| What We Talk About When We Talk About Love: Stories |          1981 |
| Where I'm Calling From: Selected Stories            |          1989 |
| White Noise                                         |          1985 |
| Cannery Row                                         |          1945 |
| Consider the Lobster                                |          2005 |
| fake_book                                           |          2001 |
| Lincoln In The Bardo                                |          2017 |
+-----------------------------------------------------+---------------+
13 rows in set 

> select title , author_lname from books where author_lname in ('carver' , 'lahiri' , 'smith');
+-----------------------------------------------------+--------------+
| title                                               | author_lname |
+-----------------------------------------------------+--------------+
| The Namesake                                        | Lahiri       |
| Interpreter of Maladies                             | Lahiri       |
| Just Kids                                           | Smith        |
| What We Talk About When We Talk About Love: Stories | Carver       |
| Where I'm Calling From: Selected Stories            | Carver       |
+-----------------------------------------------------+--------------+
5 rows in set 

> select title , released_year from books where released_year >= 2000 and released_year % 2 =1;
+-------------------------------------------+---------------+
| title                                     | released_year |
+-------------------------------------------+---------------+
| The Namesake                              |          2003 |
| American Gods                             |          2001 |
| The Circle                                |          2013 |
| A Heartbreaking Work of Staggering Genius |          2001 |
| Coraline                                  |          2003 |
| Consider the Lobster                      |          2005 |
| fake_book                                 |          2001 |
| Lincoln In The Bardo                      |          2017 |
+-------------------------------------------+---------------+
8 rows in set 

> select title , released_year from books where released_year >= 2000 and released_year % 2 != 0;
+-------------------------------------------+---------------+
| title                                     | released_year |
+-------------------------------------------+---------------+
| The Namesake                              |          2003 |
| American Gods                             |          2001 |
| The Circle                                |          2013 |
| A Heartbreaking Work of Staggering Genius |          2001 |
| Coraline                                  |          2003 |
| Consider the Lobster                      |          2005 |
| fake_book                                 |          2001 |
| Lincoln In The Bardo                      |          2017 |
+-------------------------------------------+---------------+
8 rows in set 

> SELECT TITLE , RELEASED_YEAR , CASEWHEN RELEASED_YEAR >= 2000 THEN 'MODERN LIT'    ELSE '20TH CENTURY LIT'END AS GENREFROM BOOKS;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '>= 2000 THEN 'MODERN LIT'    ELSE '20TH CENTURY LIT'END AS GENREFROM BOOKS' at line 1
> SELECT TITLE , RELEASED_YEAR , CASEWHEN RELEASED_YEAR >= 2000 THEN 'MODERN LIT'    ELSE '20TH CENTURY LIT'END AS GENRE FROM BOOKS;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '>= 2000 THEN 'MODERN LIT'    ELSE '20TH CENTURY LIT'END AS GENRE FROM BOOKS' at line 1
> SELECT TITLE , RELEASED_YEAR , CASE WHEN RELEASED_YEAR >= 2000 THEN 'MODERN LIT' ELSE '20TH CENTURY LIT' END AS GENRE FROM BOOKS;
+-----------------------------------------------------+---------------+------------------+
| TITLE                                               | RELEASED_YEAR | GENRE            |
+-----------------------------------------------------+---------------+------------------+
| The Namesake                                        |          2003 | MODERN LIT       |
| Norse Mythology                                     |          2016 | MODERN LIT       |
| American Gods                                       |          2001 | MODERN LIT       |
| Interpreter of Maladies                             |          1996 | 20TH CENTURY LIT |
| A Hologram for the King: A Novel                    |          2012 | MODERN LIT       |
| The Circle                                          |          2013 | MODERN LIT       |
| The Amazing Adventures of Kavalier & Clay           |          2000 | MODERN LIT       |
| Just Kids                                           |          2010 | MODERN LIT       |
| A Heartbreaking Work of Staggering Genius           |          2001 | MODERN LIT       |
| Coraline                                            |          2003 | MODERN LIT       |
| What We Talk About When We Talk About Love: Stories |          1981 | 20TH CENTURY LIT |
| Where I'm Calling From: Selected Stories            |          1989 | 20TH CENTURY LIT |
| White Noise                                         |          1985 | 20TH CENTURY LIT |
| Cannery Row                                         |          1945 | 20TH CENTURY LIT |
| Oblivion: Stories                                   |          2004 | MODERN LIT       |
| Consider the Lobster                                |          2005 | MODERN LIT       |
| 10% Happier                                         |          2014 | MODERN LIT       |
| fake_book                                           |          2001 | MODERN LIT       |
| Lincoln In The Bardo                                |          2017 | MODERN LIT       |
+-----------------------------------------------------+---------------+------------------+
19 rows in set 

> SELECT TITLE, STOCK_QUANTITY ,
    -> CASE
    -> WHEN STOCK_QUANTITY BETWEEN 0 AND 50 THEN '*'
    -> WHEN STOCK_QUANTITY BETWEEN 51 AND 100 THEN '**'
    -> ELSE '***'
    -> END AS STOCK
    -> FROM BOOKS;
+-----------------------------------------------------+----------------+-------+
| TITLE                                               | STOCK_QUANTITY | STOCK |
+-----------------------------------------------------+----------------+-------+
| The Namesake                                        |             32 | *     |
| Norse Mythology                                     |             43 | *     |
| American Gods                                       |             12 | *     |
| Interpreter of Maladies                             |             97 | **    |
| A Hologram for the King: A Novel                    |            154 | ***   |
| The Circle                                          |             26 | *     |
| The Amazing Adventures of Kavalier & Clay           |             68 | **    |
| Just Kids                                           |             55 | **    |
| A Heartbreaking Work of Staggering Genius           |            104 | ***   |
| Coraline                                            |            100 | **    |
| What We Talk About When We Talk About Love: Stories |             23 | *     |
| Where I'm Calling From: Selected Stories            |             12 | *     |
| White Noise                                         |             49 | *     |
| Cannery Row                                         |             95 | **    |
| Oblivion: Stories                                   |            172 | ***   |
| Consider the Lobster                                |             92 | **    |
| 10% Happier                                         |             29 | *     |
| fake_book                                           |            287 | ***   |
| Lincoln In The Bardo                                |           1000 | ***   |
+-----------------------------------------------------+----------------+-------+
19 rows in set 

> SELECT TITLE, STOCK_QUANTITY ,
    -> CASE
    -> WHEN STOCK_QUANTITY <= 40 THEN '*'
    -> WHEN STOCK_QUANTITY <= 70 THEN '**'
    -> WHEN STOCK_QUANTITY <= 100 THEN '***'
    -> WHEN STOCK_QUANTITY <= 140 THEN '****'
    -> ELSE '*****'
    -> END AS STOCK
    -> FROM BOOKS;
+-----------------------------------------------------+----------------+-------+
| TITLE                                               | STOCK_QUANTITY | STOCK |
+-----------------------------------------------------+----------------+-------+
| The Namesake                                        |             32 | *     |
| Norse Mythology                                     |             43 | **    |
| American Gods                                       |             12 | *     |
| Interpreter of Maladies                             |             97 | ***   |
| A Hologram for the King: A Novel                    |            154 | ***** |
| The Circle                                          |             26 | *     |
| The Amazing Adventures of Kavalier & Clay           |             68 | **    |
| Just Kids                                           |             55 | **    |
| A Heartbreaking Work of Staggering Genius           |            104 | ****  |
| Coraline                                            |            100 | ***   |
| What We Talk About When We Talk About Love: Stories |             23 | *     |
| Where I'm Calling From: Selected Stories            |             12 | *     |
| White Noise                                         |             49 | **    |
| Cannery Row                                         |             95 | ***   |
| Oblivion: Stories                                   |            172 | ***** |
| Consider the Lobster                                |             92 | ***   |
| 10% Happier                                         |             29 | *     |
| fake_book                                           |            287 | ***** |
| Lincoln In The Bardo                                |           1000 | ***** |
+-----------------------------------------------------+----------------+-------+
19 rows in set 

> insert into books(author_lname) values('ahuja');
Query OK, 1 row affected (0.01 sec)

> select * from books where title is null;
+---------+-------+--------------+--------------+---------------+----------------+-------+
| book_id | title | author_fname | author_lname | released_year | stock_quantity | pages |
+---------+-------+--------------+--------------+---------------+----------------+-------+
|      21 | NULL  | NULL         | ahuja        |          NULL |           NULL |  NULL |
+---------+-------+--------------+--------------+---------------+----------------+-------+
1 row in set 

> delete from books where title is null;
Query OK, 1 row affected (0.01 sec)

> select * from books where title is null;
Empty set 

> SELECT title, released_year FROM books
    -> WHERE released_year >= 2000 AND
    -> released_year % 2 != 0;
+-------------------------------------------+---------------+
| title                                     | released_year |
+-------------------------------------------+---------------+
| The Namesake                              |          2003 |
| American Gods                             |          2001 |
| The Circle                                |          2013 |
| A Heartbreaking Work of Staggering Genius |          2001 |
| Coraline                                  |          2003 |
| Consider the Lobster                      |          2005 |
| fake_book                                 |          2001 |
| Lincoln In The Bardo                      |          2017 |
+-------------------------------------------+---------------+
8 rows in set 

> SELECT 10 != 10;
+----------+
| 10 != 10 |
+----------+
|        0 |
+----------+
1 row in set 

> select 10 != 10;
+----------+
| 10 != 10 |
+----------+
|        0 |
+----------+
1 row in set 

> select 1 in (5,3) or 9 between 8 and 10;
+----------------------------------+
| 1 in (5,3) or 9 between 8 and 10 |
+----------------------------------+
|                                1 |
+----------------------------------+
1 row in set 

> select * from books where released_year < 1980;
+---------+-------------+--------------+--------------+---------------+----------------+-------+
| book_id | title       | author_fname | author_lname | released_year | stock_quantity | pages |
+---------+-------------+--------------+--------------+---------------+----------------+-------+
|      14 | Cannery Row | John         | Steinbeck    |          1945 |             95 |   181 |
+---------+-------------+--------------+--------------+---------------+----------------+-------+
1 row in set 

> select * from books where author
    -> ;
ERROR 1054 (42S22): Unknown column 'author' in 'where clause'
> select * from books where author_lname = "eggers" or "chabon";
+---------+-------------------------------------------+--------------+--------------+---------------+----------------+-------+
| book_id | title                                     | author_fname | author_lname | released_year | stock_quantity | pages |
+---------+-------------------------------------------+--------------+--------------+---------------+----------------+-------+
|       5 | A Hologram for the King: A Novel          | Dave         | Eggers       |          2012 |            154 |   352 |
|       6 | The Circle                                | Dave         | Eggers       |          2013 |             26 |   504 |
|       9 | A Heartbreaking Work of Staggering Genius | Dave         | Eggers       |          2001 |            104 |   437 |
+---------+-------------------------------------------+--------------+--------------+---------------+----------------+-------+
3 rows in set, 1 warning 

> select * from books where author_lname ="lahiri" and released_year > 2000;
+---------+--------------+--------------+--------------+---------------+----------------+-------+
| book_id | title        | author_fname | author_lname | released_year | stock_quantity | pages |
+---------+--------------+--------------+--------------+---------------+----------------+-------+
|       1 | The Namesake | Jhumpa       | Lahiri       |          2003 |             32 |   291 |
+---------+--------------+--------------+--------------+---------------+----------------+-------+
1 row in set 

> select * from books where pages between 100 and 200;
+---------+-----------------------------------------------------+--------------+--------------+---------------+----------------+-------+
| book_id | title                                               | author_fname | author_lname | released_year | stock_quantity | pages |
+---------+-----------------------------------------------------+--------------+--------------+---------------+----------------+-------+
|       4 | Interpreter of Maladies                             | Jhumpa       | Lahiri       |          1996 |             97 |   198 |
|      11 | What We Talk About When We Talk About Love: Stories | Raymond      | Carver       |          1981 |             23 |   176 |
|      14 | Cannery Row                                         | John         | Steinbeck    |          1945 |             95 |   181 |
+---------+-----------------------------------------------------+--------------+--------------+---------------+----------------+-------+
3 rows in set 

> select * from books where author_lname = 'c%' or 's%';
Empty set, 1 warning 

> select * from books where author_lname like 'c%' or author_name like 's%';
ERROR 1054 (42S22): Unknown column 'author_name' in 'where clause'
> select * from books where author_lname like 'c%' or author_lname like 's%';
+---------+-----------------------------------------------------+--------------+--------------+---------------+----------------+-------+
| book_id | title                                               | author_fname | author_lname | released_year | stock_quantity | pages |
+---------+-----------------------------------------------------+--------------+--------------+---------------+----------------+-------+
|       7 | The Amazing Adventures of Kavalier & Clay           | Michael      | Chabon       |          2000 |             68 |   634 |
|       8 | Just Kids                                           | Patti        | Smith        |          2010 |             55 |   304 |
|      11 | What We Talk About When We Talk About Love: Stories | Raymond      | Carver       |          1981 |             23 |   176 |
|      12 | Where I'm Calling From: Selected Stories            | Raymond      | Carver       |          1989 |             12 |   526 |
|      14 | Cannery Row                                         | John         | Steinbeck    |          1945 |             95 |   181 |
|      19 | Lincoln In The Bardo                                | George       | Saunders     |          2017 |           1000 |   367 |
+---------+-----------------------------------------------------+--------------+--------------+---------------+----------------+-------+
6 rows in set 

> SELECT title, author_lname
    -> FROM books WHERE SUBSTR(author_lname, 1, 1) in ('C', 'S');
+-----------------------------------------------------+--------------+
| title                                               | author_lname |
+-----------------------------------------------------+--------------+
| The Amazing Adventures of Kavalier & Clay           | Chabon       |
| Just Kids                                           | Smith        |
| What We Talk About When We Talk About Love: Stories | Carver       |
| Where I'm Calling From: Selected Stories            | Carver       |
| Cannery Row                                         | Steinbeck    |
| Lincoln In The Bardo                                | Saunders     |
+-----------------------------------------------------+--------------+
6 rows in set 

>
>
>
>
>
>
>
>
>
>
> select title,author_name,
    -> case
    -> when title like '%stories%' then 'short stories'
    -> when title = 'just kids' or 'A Heartbreaking Work of Staggering Genius' THEN 'Memior'
    ->     ELSE 'Novel'
    -> END AS type
    -> FROM books;
ERROR 1054 (42S22): Unknown column 'author_name' in 'field list'
> select title,author_lname,
    -> case
    -> when title like '%stories%' then 'short stories'
    -> when title = 'just kids' or 'A Heartbreaking Work of Staggering Genius' THEN 'Memior'
    ->     ELSE 'Novel'
    -> END AS type
    -> FROM books;
+-----------------------------------------------------+----------------+---------------+
| title                                               | author_lname   | type          |
+-----------------------------------------------------+----------------+---------------+
| The Namesake                                        | Lahiri         | Novel         |
| Norse Mythology                                     | Gaiman         | Novel         |
| American Gods                                       | Gaiman         | Novel         |
| Interpreter of Maladies                             | Lahiri         | Novel         |
| A Hologram for the King: A Novel                    | Eggers         | Novel         |
| The Circle                                          | Eggers         | Novel         |
| The Amazing Adventures of Kavalier & Clay           | Chabon         | Novel         |
| Just Kids                                           | Smith          | Memior        |
| A Heartbreaking Work of Staggering Genius           | Eggers         | Novel         |
| Coraline                                            | Gaiman         | Novel         |
| What We Talk About When We Talk About Love: Stories | Carver         | short stories |
| Where I'm Calling From: Selected Stories            | Carver         | short stories |
| White Noise                                         | DeLillo        | Novel         |
| Cannery Row                                         | Steinbeck      | Novel         |
| Oblivion: Stories                                   | Foster Wallace | short stories |
| Consider the Lobster                                | Foster Wallace | Novel         |
| 10% Happier                                         | Harris         | Novel         |
| fake_book                                           | Harris         | Novel         |
| Lincoln In The Bardo                                | Saunders       | Novel         |
+-----------------------------------------------------+----------------+---------------+
19 rows in set, 1 warning 

> show warnings
    -> ;
+---------+------+-------------------------------------------------------------------------------+
| Level   | Code | Message                                                                       |
+---------+------+-------------------------------------------------------------------------------+
| Warning | 1292 | Truncated incorrect DOUBLE value: 'A Heartbreaking Work of Staggering Genius' |
+---------+------+-------------------------------------------------------------------------------+
1 row in set 

> select author_fname , author_lname ,
    -> case
    -> when count(*) = 1 then '1 book'
    -> else concat(count(*), 'books')
    -> end as count
    -> from books
    -> where author_lname is not null
    -> group by author_fname , author_lname;
+--------------+----------------+--------+
| author_fname | author_lname   | count  |
+--------------+----------------+--------+
| Jhumpa       | Lahiri         | 2books |
| Neil         | Gaiman         | 3books |
| Dave         | Eggers         | 3books |
| Michael      | Chabon         | 1 book |
| Patti        | Smith          | 1 book |
| Raymond      | Carver         | 2books |
| Don          | DeLillo        | 1 book |
| John         | Steinbeck      | 1 book |
| David        | Foster Wallace | 2books |
| Dan          | Harris         | 1 book |
| Freida       | Harris         | 1 book |
| George       | Saunders       | 1 book |
+--------------+----------------+--------+
1

> create table companies (
    -> supplier_id int auto_increment,
    -> name varchar(255) not null,
    -> phone varchar(15) not null unique,
    -> address varchar(255) not null ,
    -> primary key(supplier_id)
    -> );
Query OK, 0 rows affected (0.11 sec)

> INSERT INTO contacts (name, phone)
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '' at line 1
> INSERT INTO companies (name, phone)
    -> VALUES ('billybob', '8781213455');
ERROR 1364 (HY000): Field 'address' doesn't have a default value
> INSERT INTO companies (name, phone , address)
    -> VALUES ('billybob', '8781213455', 'surat');
Query OK, 1 row affected (0.01 sec)

> INSERT INTO companies (name, phone , address)
    -> VALUES ('billybob', '8781213455', 'surat');
ERROR 1062 (23000): Duplicate entry '8781213455' for key 'companies.phone'
> INSERT INTO companies (name, phone , address)
    -> VALUES ('billybob', '8781213475', 'surat');
Query OK, 1 row affected (0.01 sec)

> select * from companies;
+-------------+----------+------------+---------+
| supplier_id | name     | phone      | address |
+-------------+----------+------------+---------+
|           1 | billybob | 8781213455 | surat   |
|           3 | billybob | 8781213475 | surat   |
+-------------+----------+------------+---------+


> create table users (
    -> username varchar(20) not null,
    -> age int check(age > 0)
    -> );
Query OK, 0 rows affected (0.04 sec)

> insert into users (username,age)
    -> values('bluethecat' , 50);
Query OK, 1 row affected (0.01 sec)

> insert into users (username,age)
    -> values('bluethecat' , -9);
ERROR 3819 (HY000): Check constraint 'users_chk_1' is violated.
> create table palindrome (
    -> word varchar(100) check(reverse(word) = word)
    -> );


> insert into palindrome values ('race car');
ERROR 3819 (HY000): Check constraint 'palindrome_chk_1' is violated.
> insert into palindrome values ('racecar');
Query OK, 1 row affected (0.01 sec)

> select * from palindrome;
+---------+
| word    |
+---------+
| racecar |
+---------+
1 row in set 

> create table users (
    -> username varchar(20
    -> ) not null ,
    -> age int,
    -> constraint age_not_negative check (age >=0 )
    -> );
ERROR 1050 (42S01): Table 'users' already exists
> create table users1 (
    -> username varchar(20) not null,
    -> age int,
    -> constraint age_not_negative check (age >=0 )
    -> );
Query OK, 0 rows affected (0.04 sec)

> insert into users2 values ('siya' , -9);
ERROR 1146 (42S02): Table 'book_shop.users2' doesn't exist
> insert into users1 values ('siya' , -9);
ERROR 3819 (HY000): Check constraint 'age_not_negative' is violated.
> CREATE TABLE palindromes2 (
    ->   word VARCHAR(100),
    ->   CONSTRAINT word_is_palindrome CHECK(REVERSE(word) = word)
    -> );


> insert into plaindromes2 values('momma');
ERROR 1146 (42S02): Table 'book_shop.plaindromes2' doesn't exist
> insert into palindromes2 values('momma');
ERROR 3819 (HY000): Check constraint 'word_is_palindrome' is violated.
> CREATE TABLE companies (
    ->     name VARCHAR(255) NOT NULL,
    ->     address VARCHAR(255) NOT NULL,
    ->     CONSTRAINT name_address UNIQUE (name , address)
    -> );
ERROR 1050 (42S01): Table 'companies' already exists
> CREATE TABLE companies (
    ->     name VARCHAR(255) NOT NULL,
    ->     address VARCHAR(255) NOT NULL,
    ->     CONSTRAINT name_address UNIQUE (name , address)
    -> );
ERROR 1050 (42S01): Table 'companies' already exists
> CREATE TABLE companies2 (    name VARCHAR(255) NOT NULL,    address VARCHAR(255) NOT NULL,    CONSTRAINT name_address UNIQUE (name , address));


> insert into companies (name , address) values('blackbird' , 'pune');
ERROR 1364 (HY000): Field 'phone' doesn't have a default value
> insert into companies2 (name , address) values('blackbird' , 'pune');
Query OK, 1 row affected (0.01 sec)

> insert into companies2 (name , address) values('blackbird' , 'pune');
ERROR 1062 (23000): Duplicate entry 'blackbird-pune' for key 'companies2.name_address'
> CREATE TABLE houses (
    ->   purchase_price INT NOT NULL,
    ->   sale_price INT NOT NULL,
    ->   CONSTRAINT sprice_gt_pprice CHECK(sale_price >= purchase_price)
    -> );


> insert into houses (purchase_price , sale_price) values(100 ,250);
Query OK, 1 row affected (0.01 sec)

> insert into houses (purchase_price , sale_price) values(300 ,250);
ERROR 3819 (HY000): Check constraint 'sprice_gt_pprice' is violated.
> alter table companies2 add city varchar(40);
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

> insert into companies2 values('siya' ,'45ty' , 'surat');
Query OK, 1 row affected (0.01 sec)

> select * from companies2;
+-----------+---------+-------+
| name      | address | city  |
+-----------+---------+-------+
| blackbird | pune    | NULL  |
| siya      | 45ty    | surat |
+-----------+---------+-------+


> alter table companies2 add employee_count varchar(40) default = 'no';
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '= 'no'' at line 1
> alter table companies2 add employee_count int not null defualt 1;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'defualt 1' at line 1
> alter table companies2 add employee_count int not null default 1;

Records: 0  Duplicates: 0  Warnings: 0

> alter table companies2 drop column city;

Records: 0  Duplicates: 0  Warnings: 0

> select * from companies;
+-------------+----------+------------+---------+
| supplier_id | name     | phone      | address |
+-------------+----------+------------+---------+
|           1 | billybob | 8781213455 | surat   |
|           3 | billybob | 8781213475 | surat   |
+-------------+----------+------------+---------+


> rename table companies to suppliers;


> alter table suppliers rename to companies;


> alter table companies rename column name to cname;

Records: 0  Duplicates: 0  Warnings: 0

> select * from companies;
+-------------+----------+------------+---------+
| supplier_id | cname    | phone      | address |
+-------------+----------+------------+---------+
|           1 | billybob | 8781213455 | surat   |
|           3 | billybob | 8781213475 | surat   |
+-------------+----------+------------+---------+


> ALTER TABLE suppliers
    -> MODIFY biz_name VARCHAR(100);
ERROR 1146 (42S02): Table 'book_shop.suppliers' doesn't exist
> ALTER TABLE suppliers
    -> ALTER TABLE suppliers
    -> ^C
> ALTER TABLE suppliers
    -> select * from companies;^C
>
> alter table companies modify sname varchar(50);
ERROR 1054 (42S22): Unknown column 'sname' in 'companies'
> alter table companies modify cname varchar(50);
Query OK, 2 rows affected (0.10 sec)
Records: 2  Duplicates: 0  Warnings: 0

> alter table companies modify cname varchar(50) default 'unknown';
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

> alter table companies chnage address caddress varchar(50);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'chnage address caddress varchar(50)' at line 1
> alter table companies change address caddress varchar(50);
Query OK, 2 rows affected (0.11 sec)
Records: 2  Duplicates: 0  Warnings: 0

> alter table houses add constraint positive_price_check(purchase_price >=0);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '(purchase_price >=0)' at line 1
> alter table houses add constraint positive_price_check(price >=0);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '(price >=0)' at line 1
> desc house;
ERROR 1146 (42S02): Table 'book_shop.house' doesn't exist
> desc houses;
+----------------+------+------+-----+---------+-------+
| Field          | Type | Null | Key | Default | Extra |
+----------------+------+------+-----+---------+-------+
| purchase_price | int  | NO   |     | NULL    |       |
| sale_price     | int  | NO   |     | NULL    |       |
+----------------+------+------+-----+---------+-------+
(0.01 sec)

> alter table houses add constraint positive_price_check(purchase_price >=0);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '(purchase_price >=0)' at line 1
> alter table houses add constraint positive_price check(purchase_price >=0);
Query OK, 1 row affected (0.08 sec)
Records: 1  Duplicates: 0  Warnings: 0

> alter table houses drop constraint positive_price
    -> ;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

> show databases;
+--------------------+
| Database           |
+--------------------+
| bakery_shop        |
| book_shop          |
| information_schema |
|               |
| performance_schema |
| pet_app            |
| sakila             |
| shirts_db          |
| soap_shop          |
| sys                |
| world              |
+--------------------+
11 rows in set (0.01 sec)

> use world;
Database changed
> show tables;
+-----------------+
| Tables_in_world |
+-----------------+
| city            |
| country         |
| countrylanguage |
+-----------------+
3 rows in set (0.01 sec)

> desc city;
+-------------+----------+------+-----+---------+----------------+
| Field       | Type     | Null | Key | Default | Extra          |
+-------------+----------+------+-----+---------+----------------+
| ID          | int      | NO   | PRI | NULL    | auto_increment |
| Name        | char(35) | NO   |     |         |                |
| CountryCode | char(3)  | NO   | MUL |         |                |
| District    | char(20) | NO   |     |         |                |
| Population  | int      | NO   |     | 0       |                |
+-------------+----------+------+-----+---------+----------------+
5 rows in set (0.01 sec)

> select name , population from city order by sort desc limit 5;
ERROR 1054 (42S22): Unknown column 'sort' in 'order clause'
> select name , population from city order by desc limit 5;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'desc limit 5' at line 1
> select name , population from city order by  population desc limit 5;
+-----------------+------------+
| name            | population |
+-----------------+------------+
| Mumbai (Bombay) |   10500000 |
| Seoul           |    9981619 |
| São Paulo       |    9968485 |
| Shanghai        |    9696300 |
| Jakarta         |    9604900 |
+-----------------+------------+
5 rows in set (0.01 sec)

> select name , population from city order by  population desc limit 2;
+-----------------+------------+
| name            | population |
+-----------------+------------+
| Mumbai (Bombay) |   10500000 |
| Seoul           |    9981619 |
+-----------------+------------+


> select name , population from city order by 2 desc limit 2;
+-----------------+------------+
| name            | population |
+-----------------+------------+
| Mumbai (Bombay) |   10500000 |
| Seoul           |    9981619 |
+-----------------+------------+


> select name , population from city order by 2 desc limit 2,1;
+-----------+------------+
| name      | population |
+-----------+------------+
| São Paulo |    9968485 |
+-----------+------------+
1 row in set 

> select name , population from city order by 2 desc limit 2,0;
Empty set 

> select name , population from city order by 2 desc limit 1,1;
+-------+------------+
| name  | population |
+-------+------------+
| Seoul |    9981619 |
+-------+------------+
1 row in set 

> select name , population from city where population = (
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '' at line 1
> select name , population from city order by 2 desc limit 2 where population = (select population from city order by 1 offset 1);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'where population = (select population from city order by 1 offset 1)' at line 1
> select name , population from city order by 2 desc limit 2 where population = (select population from city order by 1 limit 1);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'where population = (select population from city order by 1 limit 1)' at line 1
> select name , population from city order by 2 desc limit 2 where population = (select population from city order by population desc limit 1);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'where population = (select population from city order by population desc limit 1' at line 1
> select name , population from city limit 2 where population = (select population from city order by population desc limit 1);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'where population = (select population from city order by population desc limit 1' at line 1
> select name , population from city limit 2 where population = (select population from city order by population desc limit 2,1);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'where population = (select population from city order by population desc limit 2' at line 1
>
> select * from (select * from city order by population desc limit 2) as db order by population desc limit 1 ;
+------+-----------------+-------------+-------------+------------+
| ID   | Name            | CountryCode | District    | Population |
+------+-----------------+-------------+-------------+------------+
| 1024 | Mumbai (Bombay) | IND         | Maharashtra |   10500000 |
+------+-----------------+-------------+-------------+------------+
1 row in set 

> select * from (select * from city order by population desc limit 2) as db order by population limit 1 ;
+------+-------+-------------+----------+------------+
| ID   | Name  | CountryCode | District | Population |
+------+-------+-------------+----------+------------+
| 2331 | Seoul | KOR         | Seoul    |    9981619 |
+------+-------+-------------+----------+------------+
1 row in set (0.01 sec)

> select * from (select * from city order by population limit 2) as db order by population desc limit 1 ;
+------+-------------+-------------+-------------+------------+
| ID   | Name        | CountryCode | District    | Population |
+------+-------------+-------------+-------------+------------+
| 2317 | West Island | CCK         | West Island |        167 |
+------+-------------+-------------+-------------+------------+
1 row in set 

> select * from (select * from city order by population limit 3) as db order by population desc limit 1 ;
+------+---------+-------------+----------+------------+
| ID   | Name    | CountryCode | District | Population |
+------+---------+-------------+----------+------------+
| 3333 | Fakaofo | TKL         | Fakaofo  |        300 |
+------+---------+-------------+----------+------------+
1 row in set 

> create table customers (
    -> id int primary key auto increment,
    -> first_name varchar(50);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'auto increment,
first_name varchar(50)' at line 2
> create table customers (
    -> id int primary key auto increment,
    -> first_name varchar(50),
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near 'auto increment,
first_name varchar(50),' at line 2
> create database shop;
Query OK, 1 row affected (0.01 sec)

> use shop;
Database changed
> CREATE TABLE customers (
    ->     id INT PRIMARY KEY AUTO_INCREMENT,
    ->     first_name VARCHAR(50),
    ->     last_name VARCHAR(50),
    ->     email VARCHAR(50)
    -> );
Query OK, 0 rows affected (0.04 sec)

> CREATE TABLE orders (
    ->     id INT PRIMARY KEY AUTO_INCREMENT,
    ->     order_date DATE,
    ->     amount DECIMAL(8,2),
    ->     customer_id INT,
    ->     FOREIGN KEY (customer_id) REFERENCES customers(id)
    -> );
Query OK, 0 rows affected (0.07 sec)

> insert into customers (first_name , last_name , email) values ('Boy', 'George', 'george@gmail.com'),
    ->        ('George', 'Michael', 'gm@gmail.com'),
    ->        ('David', 'Bowie', 'david@gmail.com'),
    ->        ('Blue', 'Steele', 'blue@gmail.com'),
    ->        ('Bette', 'Davis', 'bette@aol.com');
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

> INSERT INTO orders (order_date, amount, customer_id)
    -> VALUES ('2016-02-10', 99.99, 1),
    ->        ('2017-11-11', 35.50, 1),
    ->        ('2014-12-12', 800.67, 2),
    ->        ('2015-01-03', 12.50, 2),
    ->        ('1999-04-11', 450.25, 5);
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

> select * from customers;
+----+------------+-----------+------------------+
| id | first_name | last_name | email            |
+----+------------+-----------+------------------+
|  1 | Boy        | George    | george@gmail.com |
|  2 | George     | Michael   | gm@gmail.com     |
|  3 | David      | Bowie     | david@gmail.com  |
|  4 | Blue       | Steele    | blue@gmail.com   |
|  5 | Bette      | Davis     | bette@aol.com    |
+----+------------+-----------+------------------+
5 rows in set 

> select * from orders;
+----+------------+--------+-------------+
| id | order_date | amount | customer_id |
+----+------------+--------+-------------+
|  1 | 2016-02-10 |  99.99 |           1 |
|  2 | 2017-11-11 |  35.50 |           1 |
|  3 | 2014-12-12 | 800.67 |           2 |
|  4 | 2015-01-03 |  12.50 |           2 |
|  5 | 1999-04-11 | 450.25 |           5 |
+----+------------+--------+-------------+
5 rows in set 

> select * from orders where customer_id =1;
+----+------------+--------+-------------+
| id | order_date | amount | customer_id |
+----+------------+--------+-------------+
|  1 | 2016-02-10 |  99.99 |           1 |
|  2 | 2017-11-11 |  35.50 |           1 |
+----+------------+--------+-------------+


>  select * from orders where (    select id from customers     where last_name = 'George' );
+----+------------+--------+-------------+
| id | order_date | amount | customer_id |
+----+------------+--------+-------------+
|  1 | 2016-02-10 |  99.99 |           1 |
|  2 | 2017-11-11 |  35.50 |           1 |
|  3 | 2014-12-12 | 800.67 |           2 |
|  4 | 2015-01-03 |  12.50 |           2 |
|  5 | 1999-04-11 | 450.25 |           5 |
+----+------------+--------+-------------+
5 rows in set 

> select * from orders where (select id from customers where last_name = 'geroge');
Empty set 

> select * from orders where customer_id = (select id from customers where last_name = 'geroge');
Empty set 

> select * from orders where customer_id = (select id from customers where last_name = 'george');
+----+------------+--------+-------------+
| id | order_date | amount | customer_id |
+----+------------+--------+-------------+
|  1 | 2016-02-10 |  99.99 |           1 |
|  2 | 2017-11-11 |  35.50 |           1 |
+----+------------+--------+-------------+


> select * from customers , orders;
+----+------------+-----------+------------------+----+------------+--------+-------------+
| id | first_name | last_name | email            | id | order_date | amount | customer_id |
+----+------------+-----------+------------------+----+------------+--------+-------------+
|  5 | Bette      | Davis     | bette@aol.com    |  1 | 2016-02-10 |  99.99 |           1 |
|  4 | Blue       | Steele    | blue@gmail.com   |  1 | 2016-02-10 |  99.99 |           1 |
|  3 | David      | Bowie     | david@gmail.com  |  1 | 2016-02-10 |  99.99 |           1 |
|  2 | George     | Michael   | gm@gmail.com     |  1 | 2016-02-10 |  99.99 |           1 |
|  1 | Boy        | George    | george@gmail.com |  1 | 2016-02-10 |  99.99 |           1 |
|  5 | Bette      | Davis     | bette@aol.com    |  2 | 2017-11-11 |  35.50 |           1 |
|  4 | Blue       | Steele    | blue@gmail.com   |  2 | 2017-11-11 |  35.50 |           1 |
|  3 | David      | Bowie     | david@gmail.com  |  2 | 2017-11-11 |  35.50 |           1 |
|  2 | George     | Michael   | gm@gmail.com     |  2 | 2017-11-11 |  35.50 |           1 |
|  1 | Boy        | George    | george@gmail.com |  2 | 2017-11-11 |  35.50 |           1 |
|  5 | Bette      | Davis     | bette@aol.com    |  3 | 2014-12-12 | 800.67 |           2 |
|  4 | Blue       | Steele    | blue@gmail.com   |  3 | 2014-12-12 | 800.67 |           2 |
|  3 | David      | Bowie     | david@gmail.com  |  3 | 2014-12-12 | 800.67 |           2 |
|  2 | George     | Michael   | gm@gmail.com     |  3 | 2014-12-12 | 800.67 |           2 |
|  1 | Boy        | George    | george@gmail.com |  3 | 2014-12-12 | 800.67 |           2 |
|  5 | Bette      | Davis     | bette@aol.com    |  4 | 2015-01-03 |  12.50 |           2 |
|  4 | Blue       | Steele    | blue@gmail.com   |  4 | 2015-01-03 |  12.50 |           2 |
|  3 | David      | Bowie     | david@gmail.com  |  4 | 2015-01-03 |  12.50 |           2 |
|  2 | George     | Michael   | gm@gmail.com     |  4 | 2015-01-03 |  12.50 |           2 |
|  1 | Boy        | George    | george@gmail.com |  4 | 2015-01-03 |  12.50 |           2 |
|  5 | Bette      | Davis     | bette@aol.com    |  5 | 1999-04-11 | 450.25 |           5 |
|  4 | Blue       | Steele    | blue@gmail.com   |  5 | 1999-04-11 | 450.25 |           5 |
|  3 | David      | Bowie     | david@gmail.com  |  5 | 1999-04-11 | 450.25 |           5 |
|  2 | George     | Michael   | gm@gmail.com     |  5 | 1999-04-11 | 450.25 |           5 |
|  1 | Boy        | George    | george@gmail.com |  5 | 1999-04-11 | 450.25 |           5 |
+----+------------+-----------+------------------+----+------------+--------+-------------+
25 rows in set 

> --inner join
    -> select * from customers join orders where orders.customers_id = customers.id;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your  server version for the right syntax to use near '--inner join
select * from customers join orders where orders.customers_id = cus' at line 1
> select * from customers join orders where orders.customers_id = customers.id;
ERROR 1054 (42S22): Unknown column 'orders.customers_id' in 'where clause'
> select * from customers join orders on orders.customers_id = customers.id;
ERROR 1054 (42S22): Unknown column 'orders.customers_id' in 'on clause'
> select * from customers join orders on orders.customer_id = customers.id;
+----+------------+-----------+------------------+----+------------+--------+-------------+
| id | first_name | last_name | email            | id | order_date | amount | customer_id |
+----+------------+-----------+------------------+----+------------+--------+-------------+
|  1 | Boy        | George    | george@gmail.com |  1 | 2016-02-10 |  99.99 |           1 |
|  1 | Boy        | George    | george@gmail.com |  2 | 2017-11-11 |  35.50 |           1 |
|  2 | George     | Michael   | gm@gmail.com     |  3 | 2014-12-12 | 800.67 |           2 |
|  2 | George     | Michael   | gm@gmail.com     |  4 | 2015-01-03 |  12.50 |           2 |
|  5 | Bette      | Davis     | bette@aol.com    |  5 | 1999-04-11 | 450.25 |           5 |
+----+------------+-----------+------------------+----+------------+--------+-------------+
5 rows in set 

> select * from customers join orders on orders.customer_id = customers.id;
+----+------------+-----------+------------------+----+------------+--------+-------------+
| id | first_name | last_name | email            | id | order_date | amount | customer_id |
+----+------------+-----------+------------------+----+------------+--------+-------------+
|  1 | Boy        | George    | george@gmail.com |  1 | 2016-02-10 |  99.99 |           1 |
|  1 | Boy        | George    | george@gmail.com |  2 | 2017-11-11 |  35.50 |           1 |
|  2 | George     | Michael   | gm@gmail.com     |  3 | 2014-12-12 | 800.67 |           2 |
|  2 | George     | Michael   | gm@gmail.com     |  4 | 2015-01-03 |  12.50 |           2 |
|  5 | Bette      | Davis     | bette@aol.com    |  5 | 1999-04-11 | 450.25 |           5 |
+----+------------+-----------+------------------+----+------------+--------+-------------+
5 rows in set 

> select first_name , last_ name , order_date ,amount from customers join orders on orders.customer_id = customers.id;
ERROR 1054 (42S22): Unknown column 'last_' in 'field list'
> select first_name , last_name , order_date ,amount from customers join orders on orders.customer_id = customers.id;
+------------+-----------+------------+--------+
| first_name | last_name | order_date | amount |
+------------+-----------+------------+--------+
| Boy        | George    | 2016-02-10 |  99.99 |
| Boy        | George    | 2017-11-11 |  35.50 |
| George     | Michael   | 2014-12-12 | 800.67 |
| George     | Michael   | 2015-01-03 |  12.50 |
| Bette      | Davis     | 1999-04-11 | 450.25 |
+------------+-----------+------------+--------+
5 rows in set 

> select first_name , last_name , order_date ,amount from customers join orders on orders.id = customers.id;
+------------+-----------+------------+--------+
| first_name | last_name | order_date | amount |
+------------+-----------+------------+--------+
| Boy        | George    | 2016-02-10 |  99.99 |
| George     | Michael   | 2017-11-11 |  35.50 |
| David      | Bowie     | 2014-12-12 | 800.67 |
| Blue       | Steele    | 2015-01-03 |  12.50 |
| Bette      | Davis     | 1999-04-11 | 450.25 |
+------------+-----------+------------+--------+
5 rows in set 

> select first_name , last_name , order_date ,amount from customers join orders on orders.customer_id = customers.id;
+------------+-----------+------------+--------+
| first_name | last_name | order_date | amount |
+------------+-----------+------------+--------+
| Boy        | George    | 2016-02-10 |  99.99 |
| Boy        | George    | 2017-11-11 |  35.50 |
| George     | Michael   | 2014-12-12 | 800.67 |
| George     | Michael   | 2015-01-03 |  12.50 |
| Bette      | Davis     | 1999-04-11 | 450.25 |
+------------+-----------+------------+--------+
5 rows in set 

> select first_name , last_name from customers join orders on orders.customer_id = customers.id group by first_name , last_name;
+------------+-----------+
| first_name | last_name |
+------------+-----------+
| Boy        | George    |
| George     | Michael   |
| Bette      | Davis     |
+------------+-----------+
3 rows in set 

> select first_name , last_name, sum(amount) from customers join orders on orders.customer_id = customers.id group by first_name , last_name;
+------------+-----------+-------------+
| first_name | last_name | sum(amount) |
+------------+-----------+-------------+
| Boy        | George    |      135.49 |
| George     | Michael   |      813.17 |
| Bette      | Davis     |      450.25 |
+------------+-----------+-------------+
3 rows in set 

> select first_name , last_name, sum(amount) from customers join orders on orders.customer_id = customers.id group by first_name , last_name order by total;
ERROR 1054 (42S22): Unknown column 'total' in 'order clause'
> select first_name , last_name, sum(amount) as total from customers join orders on orders.customer_id = customers.id group by first_name , last_name order by total;
+------------+-----------+--------+
| first_name | last_name | total  |
+------------+-----------+--------+
| Boy        | George    | 135.49 |
| Bette      | Davis     | 450.25 |
| George     | Michael   | 813.17 |
+------------+-----------+--------+
3 rows in set 

> select first_name , last_name, sum(amount) as total from customers left join orders on orders.customer_id = customers.id group by first_name , last_name order by total;
+------------+-----------+--------+
| first_name | last_name | total  |
+------------+-----------+--------+
| David      | Bowie     |   NULL |
| Blue       | Steele    |   NULL |
| Boy        | George    | 135.49 |
| Bette      | Davis     | 450.25 |
| George     | Michael   | 813.17 |
+------------+-----------+--------+
5 rows in set 

> select first_name , last_name, amount from customers left join orders on orders.customer_id = customers.id group by first_name , last_name order by total;
ERROR 1054 (42S22): Unknown column 'total' in 'order clause'
> select first_name , last_name, amount from customers left join orders on orders.customer_id = customers.id group by first_name , last_name;
ERROR 1055 (42000): Expression #3 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'shop.orders.amount' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by
> select first_name , last_name, amount from customers left join orders on orders.customer_id = customers.id;
+------------+-----------+--------+
| first_name | last_name | amount |
+------------+-----------+--------+
| Boy        | George    |  99.99 |
| Boy        | George    |  35.50 |
| George     | Michael   | 800.67 |
| George     | Michael   |  12.50 |
| David      | Bowie     |   NULL |
| Blue       | Steele    |   NULL |
| Bette      | Davis     | 450.25 |
+------------+-----------+--------+
7 rows in set 

> select first_name , last_name, amount from orders left join customers on orders.customer_id = customers.id;
+------------+-----------+--------+
| first_name | last_name | amount |
+------------+-----------+--------+
| Boy        | George    |  99.99 |
| Boy        | George    |  35.50 |
| George     | Michael   | 800.67 |
| George     | Michael   |  12.50 |
| Bette      | Davis     | 450.25 |
+------------+-----------+--------+
5 rows in set 

> select first_name , last_name, sum(amount) as total from customers left join orders on orders.customer_id = customers.id group by first_name , last_name order by total;
+------------+-----------+--------+
| first_name | last_name | total  |
+------------+-----------+--------+
| David      | Bowie     |   NULL |
| Blue       | Steele    |   NULL |
| Boy        | George    | 135.49 |
| Bette      | Davis     | 450.25 |
| George     | Michael   | 813.17 |
+------------+-----------+--------+
5 rows in set 

> select first_name , last_name, ifnull(sum(amount),0) as total from customers left join orders on orders.customer_id = customers.id group by first_name , last_name order by total;
+------------+-----------+--------+
| first_name | last_name | total  |
+------------+-----------+--------+
| David      | Bowie     |   0.00 |
| Blue       | Steele    |   0.00 |
| Boy        | George    | 135.49 |
| Bette      | Davis     | 450.25 |
| George     | Michael   | 813.17 |
+------------+-----------+--------+
5 rows in set 

> select first_name , last_name, amount from customers right join orders on orders.customer_id = customers.id;
+------------+-----------+--------+
| first_name | last_name | amount |
+------------+-----------+--------+
| Boy        | George    |  99.99 |
| Boy        | George    |  35.50 |
| George     | Michael   | 800.67 |
| George     | Michael   |  12.50 |
| Bette      | Davis     | 450.25 |
+------------+-----------+--------+
5 rows in set 

> insert into orders (amount,order_date) values (100 , curdate());
Query OK, 1 row affected (0.01 sec)

> select * from orders;
+----+------------+--------+-------------+
| id | order_date | amount | customer_id |
+----+------------+--------+-------------+
|  1 | 2016-02-10 |  99.99 |           1 |
|  2 | 2017-11-11 |  35.50 |           1 |
|  3 | 2014-12-12 | 800.67 |           2 |
|  4 | 2015-01-03 |  12.50 |           2 |
|  5 | 1999-04-11 | 450.25 |           5 |
|  6 | 2024-01-23 | 100.00 |        NULL |
+----+------------+--------+-------------+
6 rows in set 

> select first_name , last_name, amount from customers right join orders on orders.customer_id = customers.id;
+------------+-----------+--------+
| first_name | last_name | amount |
+------------+-----------+--------+
| Boy        | George    |  99.99 |
| Boy        | George    |  35.50 |
| George     | Michael   | 800.67 |
| George     | Michael   |  12.50 |
| Bette      | Davis     | 450.25 |
| NULL       | NULL      | 100.00 |
+------------+-----------+--------+
6 rows in set 

> drop table customers;
ERROR 3730 (HY000): Cannot drop table 'customers' referenced by a foreign key constraint 'orders_ibfk_1' on table 'orders'.
> drop table orders;
Query OK, 0 rows affected (0.04 sec)

> drop table customers;


> CREATE TABLE customers (
    ->     id INT PRIMARY KEY AUTO_INCREMENT,
    ->     first_name VARCHAR(50),
    ->     last_name VARCHAR(50),
    ->     email VARCHAR(50)
    -> );
Query OK, 0 rows affected (0.06 sec)

>
> CREATE TABLE orders (
    ->     id INT PRIMARY KEY AUTO_INCREMENT,
    ->     order_date DATE,
    ->     amount DECIMAL(8 , 2 ),
    ->     customer_id INT,
    ->     FOREIGN KEY (customer_id)
    ->         REFERENCES customers (id)
    ->         ON DELETE CASCADE
    -> );
Query OK, 0 rows affected (0.07 sec)

> INSERT INTO customers (first_name, last_name, email)
    -> VALUES ('Boy', 'George', 'george@gmail.com'),
    ->        ('George', 'Michael', 'gm@gmail.com'),
    ->        ('David', 'Bowie', 'david@gmail.com'),
    ->        ('Blue', 'Steele', 'blue@gmail.com'),
    ->        ('Bette', 'Davis', 'bette@aol.com');
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

>
>
> INSERT INTO orders (order_date, amount, customer_id)
    -> VALUES ('2016-02-10', 99.99, 1),
    ->        ('2017-11-11', 35.50, 1),
    ->        ('2014-12-12', 800.67, 2),
    ->        ('2015-01-03', 12.50, 2),
    ->        ('1999-04-11', 450.25, 5);
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

> delete from customers where last_name = "george";
Query OK, 1 row affected (0.01 sec)

> select * from orders;
+----+------------+--------+-------------+
| id | order_date | amount | customer_id |
+----+------------+--------+-------------+
|  3 | 2014-12-12 | 800.67 |           2 |
|  4 | 2015-01-03 |  12.50 |           2 |
|  5 | 1999-04-11 | 450.25 |           5 |
+----+------------+--------+-------------+
3 rows in set 

> delete from customers where last_name = "michael";
Query OK, 1 row affected (0.01 sec)

> select * from orders;
+----+------------+--------+-------------+
| id | order_date | amount | customer_id |
+----+------------+--------+-------------+
|  5 | 1999-04-11 | 450.25 |           5 |
+----+------------+--------+-------------+
1 row in set 

> create table students (id int primary key auto_increment , first_name varchar(40) not null);
Query OK, 0 rows affected (0.04 sec)

> create table papers (title varchar(50) , grade varchar(40) , student_id int , foreign key(students_id) references students(id) );
ERROR 1072 (42000): Key column 'students_id' doesn't exist in table
> create table papers (title varchar(50) , grade varchar(40) , student_id int , foreign key(student_id) references students(id) );
Query OK, 0 rows affected (0.10 sec)

> INSERT INTO students (first_name) VALUES
    -> ('Caleb'), ('Samantha'), ('Raj'), ('Carlos'), ('Lisa');
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

>
> INSERT INTO papers (student_id, title, grade ) VALUES
    -> (1, 'My First Book Report', 60),
    -> (1, 'My Second Book Report', 75),
    -> (2, 'Russian Lit Through The Ages', 94),
    -> (2, 'De Montaigne and The Art of The Essay', 98),
    -> (4, 'Borges and Magical Realism', 89);
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

> select * from students;
+----+------------+
| id | first_name |
+----+------------+
|  1 | Caleb      |
|  2 | Samantha   |
|  3 | Raj        |
|  4 | Carlos     |
|  5 | Lisa       |
+----+------------+
5 rows in set 

> select * from papers;
 

> select first_name , title , grade from papers join students on papers.student_id = orders.id;

> select first_name , title , grade from papers join students on papers.student_id = students.id;


> select first_name , title , grade from papers join students on papers.student_id = students.id order by grade desc;


> select first_name , title , grade from papers left join students on papers.student_id = students.id order by grade;


> select first_name , title , grade from students left join papers on papers.student_id = students.id order by grade;


> select first_name , title , grade from students left join papers on papers.student_id = students.id;

 

> select first_name , title , ifnull(grade , 0) from students left join papers on papers.student_id = students.id;



> select first_name  , avg(ifnull(grade , 0)) as average from students left join papers on papers.student_id = students.id group by first_name order by average;


> alter table papers change grade grade int;


> select first_name, ifnull(avg(grade) , 0) as average from students left join papers on papers.student_id = students.id group by first_name order by average desc;

> select first_name, ifnull(avg(grade) , 0) as average  from students left join papers on papers.student_id = students.id group by first_name order by average desc;


> select first_name, ifnull(avg(grade) , 0) as average  from students left join papers on papers.student_id = students.id group by first_name order by average desc;

>  select first_name , ifnull(avg(grade) , 0) as average
    ->     -> case
    ->     -> when ifnull(avg(grade),0) >= 70 then 'passing'
    ->     -> else 'failing'
    ->     -> end as passing_status
    ->     -> else 'failing'^C
>  select first_name , ifnull(avg(grade) , 0) as average,
    ->  case
    ->    when ifnull(avg(grade),0) >= 70 then 'passing'
    ->    else 'failing'
    ->   end as passing_status
    -> from students left join papers on papers.student_id = students.id group by first_name order by average desc;
 

> CREATE TABLE reviewers (
    ->     id INT PRIMARY KEY AUTO_INCREMENT,
    ->     first_name VARCHAR(50) NOT NULL,
    ->     last_name VARCHAR(50) NOT NULL
    -> );


> CREATE TABLE series (
    ->     id INT PRIMARY KEY AUTO_INCREMENT,
    ->     title VARCHAR(100),
    ->     released_year YEAR,
    ->     genre VARCHAR(100)
    -> );


> CREATE TABLE reviews (
    ->     id INT PRIMARY KEY AUTO_INCREMENT,
    ->     rating DECIMAL(2 , 1 ),
    ->     series_id INT,
    ->     reviewer_id INT,
    ->     FOREIGN KEY (series_id)
    ->         REFERENCES series (id),
    ->     FOREIGN KEY (reviewer_id)
    ->         REFERENCES reviewers (id)
    ->
    -> );


> INSERT INTO series (title, released_year, genre) VALUES
    ->     ('Archer', 2009, 'Animation'),
    ->     ('Arrested Development', 2003, 'Comedy'),
    ->     ("Bob's Burgers", 2011, 'Animation'),
    ->     ('Bojack Horseman', 2014, 'Animation'),
    ->     ("Breaking Bad", 2008, 'Drama'),
    ->     ('Curb Your Enthusiasm', 2000, 'Comedy'),
    ->     ("Fargo", 2014, 'Drama'),
    ->     ('Freaks and Geeks', 1999, 'Comedy'),
    ->     ('General Hospital', 1963, 'Drama'),
    ->     ('Halt and Catch Fire', 2014, 'Drama'),
    ->     ('Malcolm In The Middle', 2000, 'Comedy'),
    ->     ('Pushing Daisies', 2007, 'Comedy'),
    ->     ('Seinfeld', 1989, 'Comedy'),
    ->     ('Stranger Things', 2016, 'Drama');
Query OK, 14 rows affected (0.01 sec)
Records: 14  Duplicates: 0  Warnings: 0

>
>
> INSERT INTO reviewers (first_name, last_name) VALUES
    ->     ('Thomas', 'Stoneman'),
    ->     ('Wyatt', 'Skaggs'),
    ->     ('Kimbra', 'Masters'),
    ->     ('Domingo', 'Cortes'),
    ->     ('Colt', 'Steele'),
    ->     ('Pinkie', 'Petit'),
    ->     ('Marlon', 'Crafford');
Query OK, 7 rows affected (0.01 sec)
Records: 7  Duplicates: 0  Warnings: 0

>
>
> INSERT INTO reviews(series_id, reviewer_id, rating) VALUES
    ->     (1,1,8.0),(1,2,7.5),(1,3,8.5),(1,4,7.7),(1,5,8.9),
    ->     (2,1,8.1),(2,4,6.0),(2,3,8.0),(2,6,8.4),(2,5,9.9),
    ->     (3,1,7.0),(3,6,7.5),(3,4,8.0),(3,3,7.1),(3,5,8.0),
    ->     (4,1,7.5),(4,3,7.8),(4,4,8.3),(4,2,7.6),(4,5,8.5),
    ->     (5,1,9.5),(5,3,9.0),(5,4,9.1),(5,2,9.3),(5,5,9.9),
    ->     (6,2,6.5),(6,3,7.8),(6,4,8.8),(6,2,8.4),(6,5,9.1),
    ->     (7,2,9.1),(7,5,9.7),
    ->     (8,4,8.5),(8,2,7.8),(8,6,8.8),(8,5,9.3),
    ->     (9,2,5.5),(9,3,6.8),(9,4,5.8),(9,6,4.3),(9,5,4.5),
    ->     (10,5,9.9),
    ->     (13,3,8.0),(13,4,7.2),
    ->     (14,2,8.5),(14,3,8.9),(14,4,8.9);



> select * from reviews;

> select * from series;



> select title ,avg(rating) as avg_ratings from series join reviews on series.id = reviews.series_id group by title order by avg_ratings;

1(0.01 sec)

> select title , round(avg(rating),2) as avg_ratings from series join reviews on series.id = reviews.series_id group by title order by avg_ratings;

> select *  from reviewers join reviews on reviews.reviewer_id =reviewers.id;


> select title as unviewed_series from series left join reviews on series.id = reviews.series_id where rating is null;




> select title as unviewed_series from reviews right join series on series.id = reviews.series_id where rating is null;




> select genre , round(avg(rating) , 2) as avg_rating from series join reviews on series.id = reviews.series_id group by genre;

> select first_name , last_name, count(rating) as count ,
    -> ifnull(max(rating) ,0) as max , ifnull(min(rating) ,0) as min,
    -> round(ifnull(avg(rating) , 0),2) as average,
    -> case
    -> when count(rating) >=10 then 'poweruser'
    -> when count(rating) >0 then 'active'
    -> else 'inactive'
    -> end as status
    -> from reviewers left join reviews on reviewers.id = reviews.reviewer_id
    -> group by first_name , last_name;


> SELECT
    ->     first_name,
    ->     last_name,
    ->     COUNT(rating) AS count,
    ->     IFNULL(MIN(rating), 0) AS min,
    ->     IFNULL(MAX(rating), 0) AS max,
    ->     ROUND(IFNULL(AVG(rating), 0), 2) AS average,
    ->     IF(COUNT(rating) > 0,
    ->         'ACTIVE',
    ->         'INACTIVE') AS status
    -> FROM
    ->     reviewers
    ->         LEFT JOIN
    ->     reviews ON reviewers.id = reviews.reviewer_id
    -> GROUP BY first_name , last_name;



